<!DOCTYPE html>
<html lang="en">

<head>
    <title>Leaguify</title>
</head>

<body>
    <header>
        <img src="../static/Amogus.png" alt="img" class="main-image" />
        <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
        <aside>
            <div class="menu-btn">
                <span class="material-icons-outlined">
                    segment
                </span>
            </div>
            <ul class="social">
                <li><a href="#">Fb</a></li>
                <li><a href="#">In</a></li>
                <li><a href="#">Tw</a></li>
            </ul>
        </aside>

        <main>
            <nav>
                <div class="container">
                    <div>
                        <a href="index.html" class="brand">
                            Leaguify
                        </a>
                    </div>
                    <ul>
                        <li><a href="index2.html" class="link-active">Home</a>
                        <li><a href="#">Projekt 1</a></li>
                        <li><a href="#">Projekt 2</a></li>
                        <li><a href="#">Projekt 3</a></li>
                        <li><a href="#">About</a></li>
                        <li>
                            <a href="#">
                                <span class="material-icons-outlined">
                                    search
                                </span>
                            </a>
                        </li>
                    </ul>
                    <div class="menu-btn">
                        <span class="material-icons-outlined">
                            segment
                        </span>
                    </div>
                </div>
            </nav>
            <div class="header-body">
                <div class="container">
                    <div class="slider">
                        <div>
                            <h1 class="slider-count">/01</h1>
                            <div class="progress">
                                <div></div>
                            </div>
                            <p class="slider-cntrl active">
                                Current Project
                            </p>
                            <p class="slider-cntrl">
                                Upcoming Project
                            </p>
                            <p class="slider-cntrl">
                                Future Project
                            </p>
                        </div>
                    </div>
                    <div>
                        <div>
                            <h1 class="title">Analyse Your Gameplay!</h1>
                            <p>
                                Introducing
                                <span class="sub-title">
                                    top of the class machine learning methods
                                </span>,
                                analysing your gameplay and helping you become a better player!
                                <u>
                                    Deep Learning to achieve a new state of the art mechanism
                                </u>
                            </p>
                            <ul class="pagination-mobile">
                                <li class="pag-active"></li>
                                <li></li>
                                <li></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom">
                <div class="container">
                    <div>
                        <div class="item">
                            <h4>DEVELOPMENT NEWS</h4>
                            <small>
                                Front end - HTML start page and CSS, and Java Script dynamic website functions @Nicolai
                                Lindner
                            </small>
                            <small>
                                March 03-05
                            </small>
                            <a href="#">Informations</a>
                        </div>
                        <div class="item item-centered">
                            <small>
                                Back end - Building the infrastructure with Git and Github and the main pipelines
                                @Moritz Palm
                            </small>
                            <small>
                                March 03-05
                            </small>
                            <a href="#">Informations</a>
                        </div>
                    </div>

                    <div>
                        <img src="../static/Pepe1.png" alt="img" class="thumbnail" />
                        <div class="item">
                            <h4>Latest Updates</h4>
                            <small>
                                We added the html browsing
                                <span class="sub-title">
                                    We added some nice good looking animations and mobile functionality
                                </span>, also we started adding the first page for our project and started with the
                                database
                            </small>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div class="menu">
            <ul>
                <li><a href="#">Extra Space 1</a></li>
                <li><a href="#">Extra Space 2</a></li>
                <li><a href="#">Extra Space 3</a></li>
                <li><a href="#">Extra Space 4</a></li>
            </ul>
            <ul>
                <li><a href="index.html" class="link-active">Home</a></li>
                <li><a href="#">Project 1</a></li>
                <li><a href="#">Project 2</a></li>
                <li><a href="#">Project 3</a></li>
                <li><a href="#">About</a></li>
                <li>
                    <a href="#">
                        <span class="material-icons-outlined">
                            search
                        </span>
                    </a>
                </li>
            </ul>
            <ul>
                <li><a href="#">Fb</a></li>
                <li><a href="#">In</a></li>
                <li><a href="#">Tw</a></li>
            </ul>
        </div>
    </header>
    <script>
        //Navbar / Sidebar Menu
        const menuBtn = document.querySelectorAll('.menu-btn');
        const menu = document.querySelector('.menu');
        const links = document.querySelectorAll('.menu li');

        //Open and shut the sidebar
        menuBtn.forEach(btn => {
            btn.addEventListener('click', sideNavToggle);
        });

        function sideNavToggle(){
            //Menu popup delay
            let delay = 100;
            //Toggle open class
            menu.classList.toggle('menu-open');

            //Sidenav Link Slide Animation
            setTimeout(() => {
            //Reset animations after all of them end
            resetAnimations();
            }, delay * (links.length +1));

            //Link animation
            links.forEach(link  => {
                //Opacity
                link.style.opacity ="0";
                //Animation
                link.style.animation = "slideIn 400ms ease-in-out forwards";
                //Delay
                link.style.animationDelay = delay + "ms";

                //Icrease delay for each links
                delay += 100;
            });
               
            /* Reset animations so they can be activated again*/
            function resetAnimations() {
                //Select all links
                links.forEach(link => {
                    //Remove animation
                    link.style.animation ="none";
                    //Set opacity to default
                    link.style.opacity = "1";
                });
            }
        }  

        //Slider for different topics -> Animation
        const cntrl = document.querySelectorAll('.slider-cntrl');
        const cntrlMob = document.querySelectorAll('.pagination-mobile > li')
        const title = document.querySelector('.title');
        const subTitle = document.querySelector('.sub-title');
        const img = document.querySelector('.thumbnail');
        const count = document.querySelector('.slider-count');
        const progress = document.querySelector('.progress div');

        let id = 0;

        //Data
        //Array with images paths for the sliders
        const images = [
            '../static/Pepe1.png',
            '../static/Pepe1.png',
            '../static/Pepe1.png',
        ];

        const progressWidth = [
            '33%',
            '66%',
            '100%',
        ];

        //Text variations for the slider
        const text = [
            'Analyse Your Gameplay!',
            'Get A Spotify Playlist',
            'Future Project',
        ];

        //Pagination Controls
        for(let i=0; i<cntrl.length; i++) {
            //Add event for all pag. after someone clicks
            cntrl[i].addEventListener('click', () => {
                //Run the slider function
                slider(i);
                //Set id to clicked pagination index
                id = i;
                //Stop auto slide
                stopAutoSlide();
            });
            //Click event for pag. on mobile devices
            cntrlMob[i].addEventListener('click', () => {
                //Run slider fnc
                slider(i);
                //Set id to clicked pagination index
                id = i;
                //Stop auto slide
                stopAutoSlide();
            });
        }

        function slider(i) {
            //Changes the imagine in the thumbnail
            img.src=images[i];
            //Progress progression animation
            progress.style.width = progressWidth[i];
            //Change the title!
            title.innerText = text[i];
            //Change Sub Title
            subTitle.forEach(sub => {
                sub.innerText = text[i] + "Test";
            });
            
            //Change the slide number above (/01->/02)
            count.innerText = "/0" + (i + 1);

            //Remove active class from all
            for(let i=0; i < cntrl.length; i++) {
                cntrl[i].classList.remove('active');
                cntrlMob[i].classList.remove('pag-active');
            }
            //Reset active class to clicked element
            cntrl[i].classList.add('active');
            cntrlMob[i].classList.add('pag-active');
        }

        //Slider Automation
        function nextSlide() {
            //Increment img id
            id++;
            if (id > cntrl.length - 1) {
                id=0;
            }
            //Run slider fnc
            slider(id);

            //Automate slider
            let autoSlide = setInterval(nextSlide, 1000);

            //Stop automatic slide
            function stopAutoSlide() {
                clearInterval(autoSlide);
            }

            //Restart auto slider
            autoSlide = setInterval(nextSlide, 10000);
        }

    </script>


</body>

</html>